{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"F:\\\\programnodejs\\\\project\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/classCallCheck\");\nvar _createClass = require(\"F:\\\\programnodejs\\\\project\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/createClass\");\nvar usm = require(\"./url-state-machine\");\nvar urlencoded = require(\"./urlencoded\");\nvar URLSearchParams = require(\"./URLSearchParams\");\nexports.implementation = /*#__PURE__*/function () {\n  function URLImpl(globalObject, constructorArgs) {\n    _classCallCheck(this, URLImpl);\n    var url = constructorArgs[0];\n    var base = constructorArgs[1];\n    var parsedBase = null;\n    if (base !== undefined) {\n      parsedBase = usm.basicURLParse(base);\n      if (parsedBase === null) {\n        throw new TypeError(\"Invalid base URL: \".concat(base));\n      }\n    }\n    var parsedURL = usm.basicURLParse(url, {\n      baseURL: parsedBase\n    });\n    if (parsedURL === null) {\n      throw new TypeError(\"Invalid URL: \".concat(url));\n    }\n    var query = parsedURL.query !== null ? parsedURL.query : \"\";\n    this._url = parsedURL;\n\n    // We cannot invoke the \"new URLSearchParams object\" algorithm without going through the constructor, which strips\n    // question mark by default. Therefore the doNotStripQMark hack is used.\n    this._query = URLSearchParams.createImpl(globalObject, [query], {\n      doNotStripQMark: true\n    });\n    this._query._url = this;\n  }\n  _createClass(URLImpl, [{\n    key: \"toJSON\",\n    value: function toJSON() {\n      return this.href;\n    }\n  }, {\n    key: \"href\",\n    get: function get() {\n      return usm.serializeURL(this._url);\n    },\n    set: function set(v) {\n      var parsedURL = usm.basicURLParse(v);\n      if (parsedURL === null) {\n        throw new TypeError(\"Invalid URL: \".concat(v));\n      }\n      this._url = parsedURL;\n      this._query._list.splice(0);\n      var query = parsedURL.query;\n      if (query !== null) {\n        this._query._list = urlencoded.parseUrlencodedString(query);\n      }\n    }\n  }, {\n    key: \"origin\",\n    get: function get() {\n      return usm.serializeURLOrigin(this._url);\n    }\n  }, {\n    key: \"protocol\",\n    get: function get() {\n      return \"\".concat(this._url.scheme, \":\");\n    },\n    set: function set(v) {\n      usm.basicURLParse(\"\".concat(v, \":\"), {\n        url: this._url,\n        stateOverride: \"scheme start\"\n      });\n    }\n  }, {\n    key: \"username\",\n    get: function get() {\n      return this._url.username;\n    },\n    set: function set(v) {\n      if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n        return;\n      }\n      usm.setTheUsername(this._url, v);\n    }\n  }, {\n    key: \"password\",\n    get: function get() {\n      return this._url.password;\n    },\n    set: function set(v) {\n      if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n        return;\n      }\n      usm.setThePassword(this._url, v);\n    }\n  }, {\n    key: \"host\",\n    get: function get() {\n      var url = this._url;\n      if (url.host === null) {\n        return \"\";\n      }\n      if (url.port === null) {\n        return usm.serializeHost(url.host);\n      }\n      return \"\".concat(usm.serializeHost(url.host), \":\").concat(usm.serializeInteger(url.port));\n    },\n    set: function set(v) {\n      if (usm.hasAnOpaquePath(this._url)) {\n        return;\n      }\n      usm.basicURLParse(v, {\n        url: this._url,\n        stateOverride: \"host\"\n      });\n    }\n  }, {\n    key: \"hostname\",\n    get: function get() {\n      if (this._url.host === null) {\n        return \"\";\n      }\n      return usm.serializeHost(this._url.host);\n    },\n    set: function set(v) {\n      if (usm.hasAnOpaquePath(this._url)) {\n        return;\n      }\n      usm.basicURLParse(v, {\n        url: this._url,\n        stateOverride: \"hostname\"\n      });\n    }\n  }, {\n    key: \"port\",\n    get: function get() {\n      if (this._url.port === null) {\n        return \"\";\n      }\n      return usm.serializeInteger(this._url.port);\n    },\n    set: function set(v) {\n      if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n        return;\n      }\n      if (v === \"\") {\n        this._url.port = null;\n      } else {\n        usm.basicURLParse(v, {\n          url: this._url,\n          stateOverride: \"port\"\n        });\n      }\n    }\n  }, {\n    key: \"pathname\",\n    get: function get() {\n      return usm.serializePath(this._url);\n    },\n    set: function set(v) {\n      if (usm.hasAnOpaquePath(this._url)) {\n        return;\n      }\n      this._url.path = [];\n      usm.basicURLParse(v, {\n        url: this._url,\n        stateOverride: \"path start\"\n      });\n    }\n  }, {\n    key: \"search\",\n    get: function get() {\n      if (this._url.query === null || this._url.query === \"\") {\n        return \"\";\n      }\n      return \"?\".concat(this._url.query);\n    },\n    set: function set(v) {\n      var url = this._url;\n      if (v === \"\") {\n        url.query = null;\n        this._query._list = [];\n        return;\n      }\n      var input = v[0] === \"?\" ? v.substring(1) : v;\n      url.query = \"\";\n      usm.basicURLParse(input, {\n        url: url,\n        stateOverride: \"query\"\n      });\n      this._query._list = urlencoded.parseUrlencodedString(input);\n    }\n  }, {\n    key: \"searchParams\",\n    get: function get() {\n      return this._query;\n    }\n  }, {\n    key: \"hash\",\n    get: function get() {\n      if (this._url.fragment === null || this._url.fragment === \"\") {\n        return \"\";\n      }\n      return \"#\".concat(this._url.fragment);\n    },\n    set: function set(v) {\n      if (v === \"\") {\n        this._url.fragment = null;\n        return;\n      }\n      var input = v[0] === \"#\" ? v.substring(1) : v;\n      this._url.fragment = \"\";\n      usm.basicURLParse(input, {\n        url: this._url,\n        stateOverride: \"fragment\"\n      });\n    }\n  }]);\n  return URLImpl;\n}();","map":null,"metadata":{},"sourceType":"script"}